import { useState, useEffect } from â€œreactâ€;

const PHASES = [
{ id: â€œsomaâ€, name: â€œSOMAâ€, phase: â€œFundaÃ§Ã£oâ€, color: â€œ#10b981â€, icon: â€œğŸŒ±â€, sessions: 7 },
{ id: â€œserenâ€, name: â€œSERENâ€, phase: â€œRegulaÃ§Ã£oâ€, color: â€œ#3b82f6â€, icon: â€œğŸŒŠâ€, sessions: 7 },
{ id: â€œlumaâ€, name: â€œLUMAâ€, phase: â€œExpansÃ£oâ€, color: â€œ#f59e0bâ€, icon: â€œâœ¨â€, sessions: 7 },
{ id: â€œechoâ€, name: â€œECHOâ€, phase: â€œIntegraÃ§Ã£oâ€, color: â€œ#8b5cf6â€, icon: â€œğŸ”®â€, sessions: 7 },
];

// â”€â”€â”€ Animated Background Orbs â”€â”€â”€
function AnimatedOrb({ color, size, x, y, delay }) {
return (
<div style={{
position: â€œabsoluteâ€, width: size, height: size, borderRadius: â€œ50%â€,
background: `radial-gradient(circle, ${color}30, transparent 70%)`,
left: x, top: y, filter: â€œblur(50px)â€, pointerEvents: â€œnoneâ€,
animation: `orbFloat 10s ease-in-out ${delay}s infinite alternate`,
}} />
);
}

// â”€â”€â”€ Phase Ring (Journey Map) â”€â”€â”€
function PhaseRing({ currentPhaseIndex, sessionsCompleted, totalSessions }) {
const radius = 105;
const strokeWidth = 6;
const circumference = 2 * Math.PI * radius;
const phase = PHASES[currentPhaseIndex];

return (
<div style={{ position: â€œrelativeâ€, width: 260, height: 260 }}>
<svg width={260} height={260} style={{ transform: â€œrotate(-90deg)â€ }}>
<circle cx={130} cy={130} r={radius} fill="none" stroke="rgba(255,255,255,0.05)" strokeWidth={strokeWidth} />
{PHASES.map((p, i) => {
const segLen = circumference / 4;
const offset = i * segLen;
const done = i < currentPhaseIndex;
const active = i === currentPhaseIndex;
const fill = done ? segLen : active ? (sessionsCompleted / totalSessions) * segLen : 0;
return (
<circle key={p.id} cx={130} cy={130} r={radius} fill=â€œnoneâ€
stroke={p.color} strokeWidth={strokeWidth + (active ? 2 : 0)}
strokeDasharray={`${fill} ${circumference - fill}`}
strokeDashoffset={-offset} strokeLinecap=â€œroundâ€
style={{
opacity: done || active ? 1 : 0.15,
transition: â€œall 1.2s cubic-bezier(0.4,0,0.2,1)â€,
filter: active ? `drop-shadow(0 0 8px ${p.color}80)` : â€œnoneâ€,
}}
/>
);
})}
</svg>
<div style={{
position: â€œabsoluteâ€, inset: 0, display: â€œflexâ€, flexDirection: â€œcolumnâ€,
alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€,
}}>
<div style={{ fontSize: 34, marginBottom: 2 }}>{phase.icon}</div>
<div style={{
fontSize: 12, color: phase.color, fontWeight: 600,
letterSpacing: â€œ0.1emâ€, textTransform: â€œuppercaseâ€,
fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€,
}}>{phase.name}</div>
<div style={{
fontSize: 11, color: â€œrgba(255,255,255,0.35)â€, marginTop: 2,
fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€,
}}>SessÃ£o {sessionsCompleted}/{totalSessions}</div>
</div>
{PHASES.map((p, i) => {
const angle = (i * 90 - 90) * (Math.PI / 180);
const dotR = radius + 22;
const cx = 130 + dotR * Math.cos(angle);
const cy = 130 + dotR * Math.sin(angle);
const done = i < currentPhaseIndex;
const active = i === currentPhaseIndex;
return (
<div key={p.id} style={{
position: â€œabsoluteâ€, left: cx - 13, top: cy - 13, width: 26, height: 26,
borderRadius: â€œ50%â€,
background: done ? p.color : active ? `${p.color}30` : â€œrgba(255,255,255,0.05)â€,
border: active ? `2px solid ${p.color}` : â€œ1px solid rgba(255,255,255,0.08)â€,
display: â€œflexâ€, alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€, fontSize: 12,
transition: â€œall 0.5s easeâ€,
boxShadow: active ? `0 0 14px ${p.color}30` : â€œnoneâ€,
}}>
{done ? <span style={{ fontSize: 10, color: â€œwhiteâ€ }}>âœ“</span> : <span style={{ fontSize: 11 }}>{p.icon}</span>}
</div>
);
})}
</div>
);
}

// â”€â”€â”€ Session Card â”€â”€â”€
function SessionCard({ session, isLocked, isCompleted, isCurrent, phaseColor, onClick }) {
return (
<button onClick={!isLocked ? onClick : undefined} style={{
width: â€œ100%â€, padding: â€œ14px 16pxâ€, borderRadius: 14, textAlign: â€œleftâ€,
border: isCurrent ? `1.5px solid ${phaseColor}50` : â€œ1px solid rgba(255,255,255,0.05)â€,
background: isCurrent ? `linear-gradient(135deg, ${phaseColor}10, ${phaseColor}04)` :
isCompleted ? â€œrgba(255,255,255,0.025)â€ : â€œrgba(255,255,255,0.015)â€,
cursor: isLocked ? â€œdefaultâ€ : â€œpointerâ€, opacity: isLocked ? 0.35 : 1,
display: â€œflexâ€, alignItems: â€œcenterâ€, gap: 12, color: â€œwhiteâ€,
transition: â€œall 0.3s easeâ€, position: â€œrelativeâ€,
}}>
<div style={{
width: 36, height: 36, borderRadius: 10, flexShrink: 0,
background: isCompleted ? `${phaseColor}20` : isCurrent ? phaseColor : â€œrgba(255,255,255,0.04)â€,
display: â€œflexâ€, alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€,
fontSize: 13, fontWeight: 600, fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€,
color: isCompleted ? phaseColor : isCurrent ? â€œwhiteâ€ : â€œrgba(255,255,255,0.25)â€,
}}>
{isCompleted ? â€œâœ“â€ : isLocked ? â€œğŸ”’â€ : session.number}
</div>
<div style={{ flex: 1, minWidth: 0 }}>
<div style={{
fontSize: 13.5, fontWeight: 500, fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€,
color: isCurrent ? â€œwhiteâ€ : â€œrgba(255,255,255,0.65)â€, marginBottom: 2,
}}>{session.title}</div>
<div style={{
fontSize: 11.5, color: â€œrgba(255,255,255,0.3)â€, fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€,
}}>{session.subtitle}</div>
</div>
{!isLocked && (
<div style={{ fontSize: 10.5, color: â€œrgba(255,255,255,0.25)â€, fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€, flexShrink: 0 }}>
~{session.duration}min
</div>
)}
{isCurrent && <div style={{
position: â€œabsoluteâ€, right: 14, width: 8, height: 8, borderRadius: â€œ50%â€,
background: phaseColor, animation: â€œpulse 2s ease-in-out infiniteâ€,
}} />}
</button>
);
}

// â”€â”€â”€ Ritual de Entrada â”€â”€â”€
function RitualOverlay({ phase, onBegin, onSkip }) {
const [step, setStep] = useState(0); // 0=intro, 1=breathing, 2=ready
const [breathCount, setBreathCount] = useState(0);

const rituals = {
soma: { prompt: â€œColoca uma mÃ£o no peito e outra na barriga.â€, instruction: â€œRespira fundo 3 vezes. Sente o teu corpo presente.â€, icon: â€œğŸŒ±â€ },
seren: { prompt: â€œFecha os olhos por um momento.â€, instruction: â€œObserva o que sentes agora, sem julgar. Apenas nota.â€, icon: â€œğŸŒŠâ€ },
luma: { prompt: â€œImagina um espaÃ§o vasto dentro de ti.â€, instruction: â€œAqui nÃ£o hÃ¡ certo nem errado. Apenas possibilidades.â€, icon: â€œâœ¨â€ },
echo: { prompt: â€œRecorda os caminhos que percorreste.â€, instruction: â€œCada padrÃ£o revelado foi um passo. Vamos integrÃ¡-los.â€, icon: â€œğŸ”®â€ },
};
const r = rituals[phase.id];

useEffect(() => {
if (step === 1 && breathCount < 3) {
const t = setTimeout(() => setBreathCount(c => c + 1), 4000);
return () => clearTimeout(t);
}
if (step === 1 && breathCount >= 3) {
setTimeout(() => setStep(2), 500);
}
}, [step, breathCount]);

return (
<div style={{
position: â€œfixedâ€, inset: 0, zIndex: 100,
background: â€œrgba(6,6,10,0.96)â€, display: â€œflexâ€, flexDirection: â€œcolumnâ€,
alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€, padding: 28,
animation: â€œfadeIn 0.6s easeâ€,
}}>
<div style={{
width: step === 1 ? 160 : 90, height: step === 1 ? 160 : 90,
borderRadius: â€œ50%â€, display: â€œflexâ€, alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€,
fontSize: step === 1 ? 52 : 40, marginBottom: 36,
background: `radial-gradient(circle, ${phase.color}20, ${phase.color}06)`,
border: `2px solid ${phase.color}25`,
transition: â€œall 2s ease-in-outâ€,
animation: step === 1 ? â€œbreathe 4s ease-in-out infiniteâ€ : â€œnoneâ€,
}}>{r.icon}</div>

```
  <div style={{ textAlign: "center", maxWidth: 300 }}>
    <div style={{
      fontSize: 10, color: phase.color, fontWeight: 600,
      letterSpacing: "0.14em", textTransform: "uppercase", marginBottom: 14,
      fontFamily: "'DM Sans', sans-serif",
    }}>Ritual de Entrada</div>

    {step === 0 && (
      <div style={{ animation: "slideUp 0.5s ease" }}>
        <div style={{ fontSize: 19, color: "rgba(255,255,255,0.9)", fontFamily: "'Lora', serif", lineHeight: 1.5, marginBottom: 10 }}>{r.prompt}</div>
        <div style={{ fontSize: 13.5, color: "rgba(255,255,255,0.4)", fontFamily: "'DM Sans', sans-serif", lineHeight: 1.6, marginBottom: 28 }}>{r.instruction}</div>
        <button onClick={() => setStep(1)} style={{
          padding: "13px 30px", borderRadius: 50, background: phase.color,
          color: "white", border: "none", fontSize: 13.5, fontWeight: 600,
          fontFamily: "'DM Sans', sans-serif", cursor: "pointer",
        }}>Estou presente</button>
        <div>
          <button onClick={onSkip} style={{
            marginTop: 12, padding: 8, background: "none", border: "none",
            color: "rgba(255,255,255,0.25)", fontSize: 11.5, cursor: "pointer",
            fontFamily: "'DM Sans', sans-serif",
          }}>Saltar ritual â†’</button>
        </div>
      </div>
    )}

    {step === 1 && (
      <div style={{ animation: "fadeIn 0.5s ease" }}>
        <div style={{ display: "flex", gap: 8, justifyContent: "center", marginBottom: 16 }}>
          {[0, 1, 2].map(i => (
            <div key={i} style={{
              width: 8, height: 8, borderRadius: "50%",
              background: i < breathCount ? phase.color : "rgba(255,255,255,0.1)",
              transition: "background 0.5s ease",
            }} />
          ))}
        </div>
        <div style={{ fontSize: 14, color: "rgba(255,255,255,0.4)", fontFamily: "'DM Sans', sans-serif" }}>
          {breathCount === 0 ? "Inspira profundamente..." : breathCount === 1 ? "Expira devagar..." : "Mais uma vez..."}
        </div>
      </div>
    )}

    {step === 2 && (
      <div style={{ animation: "scaleIn 0.5s cubic-bezier(0.34,1.56,0.64,1)" }}>
        <div style={{ fontSize: 15, color: "rgba(255,255,255,0.6)", fontFamily: "'Lora', serif", marginBottom: 24, fontStyle: "italic" }}>
          EstÃ¡s aqui. EstÃ¡s presente.
        </div>
        <button onClick={onBegin} style={{
          padding: "13px 30px", borderRadius: 50, background: phase.color,
          color: "white", border: "none", fontSize: 13.5, fontWeight: 600,
          fontFamily: "'DM Sans', sans-serif", cursor: "pointer",
        }}>ComeÃ§ar sessÃ£o</button>
      </div>
    )}
  </div>
</div>
```

);
}

// â”€â”€â”€ Milestone Celebration â”€â”€â”€
function MilestoneOverlay({ milestone, onDismiss }) {
return (
<div style={{
position: â€œfixedâ€, inset: 0, zIndex: 200,
background: â€œrgba(6,6,10,0.97)â€, display: â€œflexâ€, flexDirection: â€œcolumnâ€,
alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€, padding: 28,
animation: â€œfadeIn 0.4s easeâ€,
}}>
<div style={{ animation: â€œscaleIn 0.6s cubic-bezier(0.34,1.56,0.64,1)â€ }}>
<div style={{
width: 90, height: 90, borderRadius: â€œ50%â€,
background: `radial-gradient(circle, ${milestone.color}28, ${milestone.color}06)`,
display: â€œflexâ€, alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€,
fontSize: 44, marginBottom: 20, boxShadow: `0 0 50px ${milestone.color}18`,
}}>{milestone.icon}</div>
</div>
<div style={{
fontSize: 10, color: milestone.color, fontWeight: 600,
letterSpacing: â€œ0.14emâ€, textTransform: â€œuppercaseâ€, marginBottom: 10,
fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€,
}}>Marco alcanÃ§ado</div>
<div style={{
fontSize: 20, color: â€œwhiteâ€, fontFamily: â€œâ€˜Loraâ€™, serifâ€,
textAlign: â€œcenterâ€, marginBottom: 8, lineHeight: 1.4,
}}>{milestone.title}</div>
<div style={{
fontSize: 13.5, color: â€œrgba(255,255,255,0.4)â€, fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€,
textAlign: â€œcenterâ€, maxWidth: 280, lineHeight: 1.6, marginBottom: 28,
}}>{milestone.description}</div>
<button onClick={onDismiss} style={{
padding: â€œ11px 26pxâ€, borderRadius: 50,
background: â€œrgba(255,255,255,0.07)â€, color: â€œwhiteâ€,
border: â€œ1px solid rgba(255,255,255,0.1)â€, fontSize: 13,
fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€, cursor: â€œpointerâ€,
}}>Continuar jornada</button>
</div>
);
}

// â”€â”€â”€ Session End Ritual â”€â”€â”€
function SessionEndOverlay({ phase, onSaveInsight, onSkip }) {
const [insight, setInsight] = useState(â€â€);

return (
<div style={{
position: â€œfixedâ€, inset: 0, zIndex: 100,
background: â€œrgba(6,6,10,0.96)â€, display: â€œflexâ€, flexDirection: â€œcolumnâ€,
alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€, padding: 28,
animation: â€œfadeIn 0.6s easeâ€,
}}>
<div style={{
width: 60, height: 60, borderRadius: â€œ50%â€,
background: `radial-gradient(circle, ${phase.color}20, ${phase.color}06)`,
display: â€œflexâ€, alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€,
fontSize: 28, marginBottom: 28,
}}>{phase.icon}</div>

```
  <div style={{
    fontSize: 10, color: phase.color, fontWeight: 600,
    letterSpacing: "0.14em", textTransform: "uppercase", marginBottom: 10,
    fontFamily: "'DM Sans', sans-serif",
  }}>Ritual de SaÃ­da</div>

  <div style={{
    fontSize: 18, color: "rgba(255,255,255,0.85)", fontFamily: "'Lora', serif",
    textAlign: "center", marginBottom: 6, lineHeight: 1.4,
  }}>O que levas desta conversa?</div>
  <div style={{
    fontSize: 13, color: "rgba(255,255,255,0.35)", fontFamily: "'DM Sans', sans-serif",
    textAlign: "center", marginBottom: 20, maxWidth: 280, lineHeight: 1.5,
  }}>Captura uma frase, um sentimento, uma descoberta.</div>

  <textarea
    value={insight}
    onChange={e => setInsight(e.target.value)}
    placeholder="Hoje percebi que..."
    rows={3}
    style={{
      width: "100%", maxWidth: 320, padding: "14px 16px",
      borderRadius: 14, border: `1px solid ${phase.color}30`,
      background: "rgba(255,255,255,0.04)", color: "white",
      fontSize: 14, fontFamily: "'Lora', serif", resize: "none",
      outline: "none", lineHeight: 1.6,
    }}
  />

  <div style={{ display: "flex", gap: 10, marginTop: 18, width: "100%", maxWidth: 320 }}>
    <button onClick={onSkip} style={{
      flex: 1, padding: "11px", borderRadius: 50,
      background: "rgba(255,255,255,0.05)", color: "rgba(255,255,255,0.4)",
      border: "1px solid rgba(255,255,255,0.06)", fontSize: 12.5,
      fontFamily: "'DM Sans', sans-serif", cursor: "pointer",
    }}>Saltar</button>
    <button onClick={() => onSaveInsight(insight)} disabled={!insight.trim()} style={{
      flex: 2, padding: "11px", borderRadius: 50,
      background: insight.trim() ? phase.color : "rgba(255,255,255,0.05)",
      color: "white", border: "none", fontSize: 12.5, fontWeight: 600,
      fontFamily: "'DM Sans', sans-serif", cursor: insight.trim() ? "pointer" : "default",
      opacity: insight.trim() ? 1 : 0.4, transition: "all 0.3s ease",
    }}>Guardar insight</button>
  </div>
</div>
```

);
}

// â”€â”€â”€ Insight Card â”€â”€â”€
function InsightCard({ insight, color }) {
return (
<div style={{
padding: â€œ13px 15pxâ€, borderRadius: 13,
background: `linear-gradient(135deg, ${color}08, transparent)`,
borderLeft: `3px solid ${color}50`,
}}>
<div style={{
fontSize: 13, color: â€œrgba(255,255,255,0.65)â€, fontFamily: â€œâ€˜Loraâ€™, serifâ€,
fontStyle: â€œitalicâ€, lineHeight: 1.6,
}}>â€{insight.text}â€</div>
<div style={{
fontSize: 10.5, color: â€œrgba(255,255,255,0.25)â€, fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€,
fontStyle: â€œnormalâ€, marginTop: 7,
}}>SessÃ£o {insight.session} Â· {insight.mirror}</div>
</div>
);
}

// â”€â”€â”€ Pattern Badge â”€â”€â”€
function PatternBadge({ pattern }) {
return (
<div style={{
display: â€œinline-flexâ€, alignItems: â€œcenterâ€, gap: 5,
padding: â€œ5px 11pxâ€, borderRadius: 18,
background: `${pattern.color}12`, border: `1px solid ${pattern.color}20`,
fontSize: 11.5, color: `${pattern.color}cc`, fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€, fontWeight: 500,
}}>
<span style={{ fontSize: 13 }}>{pattern.icon}</span>
{pattern.label}
<span style={{ background: `${pattern.color}25`, borderRadius: 8, padding: â€œ1px 5pxâ€, fontSize: 10 }}>Ã—{pattern.count}</span>
</div>
);
}

// â”€â”€â”€ Tab Navigation â”€â”€â”€
function TabNav({ active, onChange }) {
const tabs = [
{ id: â€œjourneyâ€, label: â€œJornadaâ€, icon: â€œâ—â€ },
{ id: â€œinsightsâ€, label: â€œInsightsâ€, icon: â€œâ—ˆâ€ },
{ id: â€œpatternsâ€, label: â€œPadrÃµesâ€, icon: â€œâ—‡â€ },
];
return (
<div style={{ display: â€œflexâ€, gap: 3, padding: 3, borderRadius: 12, background: â€œrgba(255,255,255,0.035)â€ }}>
{tabs.map(t => (
<button key={t.id} onClick={() => onChange(t.id)} style={{
flex: 1, padding: â€œ9px 0â€, borderRadius: 9, border: â€œnoneâ€,
background: active === t.id ? â€œrgba(255,255,255,0.07)â€ : â€œtransparentâ€,
color: active === t.id ? â€œwhiteâ€ : â€œrgba(255,255,255,0.3)â€,
fontSize: 11.5, fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€, fontWeight: 500,
cursor: â€œpointerâ€, transition: â€œall 0.2s easeâ€,
display: â€œflexâ€, alignItems: â€œcenterâ€, justifyContent: â€œcenterâ€, gap: 4,
}}>
<span style={{ fontSize: 13 }}>{t.icon}</span>{t.label}
</button>
))}
</div>
);
}

// â”€â”€â”€ Main App â”€â”€â”€
export default function AnimaTravessia() {
const [tab, setTab] = useState(â€œjourneyâ€);
const [showRitual, setShowRitual] = useState(false);
const [showEndRitual, setShowEndRitual] = useState(false);
const [showMilestone, setShowMilestone] = useState(false);
const [view, setView] = useState(â€œappâ€); // app | notes

const phaseIdx = 0;
const phase = PHASES[phaseIdx];
const sessionsCompleted = 3;

const sessions = [
{ number: 1, title: â€œO Corpo que Habitasâ€, subtitle: â€œReconexÃ£o com sensaÃ§Ãµes fÃ­sicasâ€, duration: 15 },
{ number: 2, title: â€œFome de QuÃª?â€, subtitle: â€œNutriÃ§Ã£o emocional vs. fÃ­sicaâ€, duration: 12 },
{ number: 3, title: â€œOnde Mora a TensÃ£oâ€, subtitle: â€œMapeamento corporal de emoÃ§Ãµesâ€, duration: 15 },
{ number: 4, title: â€œO Peso InvisÃ­velâ€, subtitle: â€œCrenÃ§as sobre o corpoâ€, duration: 15 },
{ number: 5, title: â€œRituais de Cuidadoâ€, subtitle: â€œConstruindo prÃ¡ticas de presenÃ§aâ€, duration: 12 },
{ number: 6, title: â€œO Espelho Interiorâ€, subtitle: â€œComo te vÃªs vs. como Ã©sâ€, duration: 15 },
{ number: 7, title: â€œIntegraÃ§Ã£o SomÃ¡ticaâ€, subtitle: â€œSÃ­ntese da Fase 1â€, duration: 20 },
];

const insights = [
{ text: â€œPercebo que como mais quando sinto solidÃ£o. NÃ£o Ã© fome, Ã© um vazio emocional.â€, session: 2, mirror: â€œSOMAâ€ },
{ text: â€œA tensÃ£o nos ombros aparece sempre antes de reuniÃµes. O corpo antecipa o stress.â€, session: 3, mirror: â€œSOMAâ€ },
{ text: â€œNunca me perguntei O QUE o meu corpo precisa. Sempre decidi por ele.â€, session: 1, mirror: â€œSOMAâ€ },
];

const patterns = [
{ icon: â€œğŸŒ€â€, label: â€œComer emocionalâ€, count: 4, color: â€œ#10b981â€ },
{ icon: â€œâš¡â€, label: â€œTensÃ£o antecipatÃ³riaâ€, count: 3, color: â€œ#f59e0bâ€ },
{ icon: â€œğŸ”‡â€, label: â€œDesconexÃ£o corporalâ€, count: 2, color: â€œ#ef4444â€ },
];

const milestone = {
icon: â€œğŸŒ±â€, title: â€œCorpo Despertoâ€, color: â€œ#10b981â€,
description: â€œCompletaste 3 sessÃµes com SOMA. ComeÃ§aste a ouvir o que o teu corpo sempre tentou dizer.â€,
};

const conceptNotes = [
{ num: â€œ01â€, title: â€œSessÃµes Guiadas, NÃ£o Chats Soltosâ€, color: â€œ#10b981â€,
desc: â€œCada mirror tem 7 sessÃµes com tema, tÃ­tulo evocativo e duraÃ§Ã£o. ProgressÃ£o desbloqueÃ¡vel â€” sessÃ£o 4 sÃ³ abre apÃ³s completar 3. O user sente caminho, nÃ£o caos.â€ },
{ num: â€œ02â€, title: â€œRituais de Entrada e SaÃ­daâ€, color: â€œ#3b82f6â€,
desc: â€œAntes: respiraÃ§Ã£o + intenÃ§Ã£o para criar presenÃ§a. Depois: captura de insight + reflexÃ£o. Separa â€˜scroll automÃ¡ticoâ€™ de â€˜trabalho interiorâ€™. Opcional, nunca forÃ§ado.â€ },
{ num: â€œ03â€, title: â€œMapa Visual de Jornadaâ€, color: â€œ#f59e0bâ€,
desc: â€œRing de progresso com 4 fases visÃ­veis. Cada sessÃ£o ilumina um segmento. Stats: streak, insights, padrÃµes. O user VÃŠ onde estÃ¡ e para onde vai.â€ },
{ num: â€œ04â€, title: â€œDetecÃ§Ã£o de PadrÃµesâ€, color: â€œ#ef4444â€,
desc: â€œIA identifica temas recorrentes. Badges: â€˜comer emocional Ã—4â€™. Timeline de quando cada padrÃ£o surgiu. Cross-mirror: padrÃ£o em SOMA informa SEREN.â€ },
{ num: â€œ05â€, title: â€œInsights AutomÃ¡ticosâ€, color: â€œ#8b5cf6â€,
desc: â€œFrases-chave extraÃ­das de cada sessÃ£o. O user vÃª a sua evoluÃ§Ã£o nas suas prÃ³prias palavras. ExportÃ¡veis como â€˜diÃ¡rio da jornadaâ€™.â€ },
{ num: â€œ06â€, title: â€œMilestones Contemplativosâ€, color: â€œ#ec4899â€,
desc: â€œâ€˜Corpo Despertoâ€™, â€˜Mente Claraâ€™, â€˜Horizonte Abertoâ€™. CelebraÃ§Ã£o contemplativa, nÃ£o confetti. SensaÃ§Ã£o de conquista real, nÃ£o gamificaÃ§Ã£o vazia.â€ },
{ num: â€œ07â€, title: â€œCross-Mirror Intelligenceâ€, color: â€œ#06b6d4â€,
desc: â€œSEREN sabe o que SOMA descobriu. ECHO sintetiza TUDO. Cada fase constrÃ³i sobre a anterior. A IA integra progressivamente â€” nunca esquece.â€ },
{ num: â€œ08â€, title: â€œRitual de SaÃ­da + Capturaâ€, color: â€œ#84cc16â€,
desc: â€œAo fechar sessÃ£o: â€˜O que levas desta conversa?â€™ O user escreve em 1-2 frases. Esses insights alimentam o dashboard e a Insights Wall.â€ },
];

return (
<div style={{
minHeight: â€œ100vhâ€, background: â€œ#08080câ€, color: â€œwhiteâ€,
fontFamily: â€œâ€˜DM Sansâ€™, sans-serifâ€, position: â€œrelativeâ€, overflow: â€œhiddenâ€,
}}>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet" />
<style>{`@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } } @keyframes slideUp { from { opacity: 0; transform: translateY(14px) } to { opacity: 1; transform: translateY(0) } } @keyframes scaleIn { from { opacity: 0; transform: scale(0.85) } to { opacity: 1; transform: scale(1) } } @keyframes breathe { 0%,100% { transform: scale(1); opacity: 0.6 } 50% { transform: scale(1.18); opacity: 1 } } @keyframes orbFloat { 0% { transform: translate(0,0) } 100% { transform: translate(15px,-25px) } } @keyframes pulse { 0%,100% { opacity: 0.4 } 50% { opacity: 1 } } * { box-sizing: border-box; margin: 0; padding: 0 } button { font-family: 'DM Sans', sans-serif } ::-webkit-scrollbar { width: 3px } ::-webkit-scrollbar-track { background: transparent } ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 3px } textarea::placeholder { color: rgba(255,255,255,0.2) }`}</style>

```
  <AnimatedOrb color={phase.color} size="280px" x="-80px" y="-40px" delay={0} />
  <AnimatedOrb color="#8b5cf6" size="180px" x="75%" y="55%" delay={4} />

  {/* Overlays */}
  {showRitual && <RitualOverlay phase={phase} onBegin={() => setShowRitual(false)} onSkip={() => setShowRitual(false)} />}
  {showEndRitual && <SessionEndOverlay phase={phase} onSaveInsight={(t) => { alert(`Insight guardado: "${t}"`); setShowEndRitual(false); }} onSkip={() => setShowEndRitual(false)} />}
  {showMilestone && <MilestoneOverlay milestone={milestone} onDismiss={() => setShowMilestone(false)} />}

  {/* Header */}
  <div style={{
    position: "sticky", top: 0, zIndex: 50,
    background: "rgba(8,8,12,0.88)", backdropFilter: "blur(20px)",
    borderBottom: "1px solid rgba(255,255,255,0.04)",
  }}>
    <div style={{
      maxWidth: 460, margin: "0 auto", padding: "11px 18px",
      display: "flex", alignItems: "center", justifyContent: "space-between",
    }}>
      <div style={{ display: "flex", alignItems: "center", gap: 7 }}>
        <div style={{ fontSize: 17, fontWeight: 700, letterSpacing: "-0.02em" }}>ANIMA</div>
        <div style={{ fontSize: 9.5, color: "rgba(255,255,255,0.22)", letterSpacing: "0.1em", textTransform: "uppercase", marginTop: 1 }}>Travessia</div>
      </div>
      <div style={{ display: "flex", gap: 3 }}>
        {["app", "notes"].map(v => (
          <button key={v} onClick={() => setView(v)} style={{
            padding: "5px 10px", borderRadius: 7, border: "none",
            background: view === v ? "rgba(255,255,255,0.08)" : "transparent",
            color: view === v ? "white" : "rgba(255,255,255,0.3)",
            fontSize: 10.5, fontWeight: 500, cursor: "pointer",
          }}>{v === "app" ? "ProtÃ³tipo" : "Conceitos"}</button>
        ))}
      </div>
    </div>
  </div>

  <div style={{ maxWidth: 460, margin: "0 auto", padding: "0 18px 90px" }}>
    {view === "app" ? (
      <>
        {/* Journey Ring */}
        <div style={{
          display: "flex", flexDirection: "column", alignItems: "center",
          padding: "28px 0 20px", animation: "fadeIn 0.7s ease",
        }}>
          <PhaseRing currentPhaseIndex={phaseIdx} sessionsCompleted={sessionsCompleted} totalSessions={7} />
          <div style={{ display: "flex", gap: 22, marginTop: 20, fontSize: 11.5, color: "rgba(255,255,255,0.35)" }}>
            {[
              { val: "5", label: "dias seguidos" },
              { val: "3", label: "insights" },
              { val: "2", label: "padrÃµes" },
            ].map((s, i) => (
              <div key={i} style={{ textAlign: "center" }}>
                <div style={{ fontSize: 18, fontWeight: 600, color: "white" }}>{s.val}</div>
                <div>{s.label}</div>
              </div>
            ))}
          </div>
        </div>

        {/* Tabs */}
        <div style={{ marginBottom: 18 }}><TabNav active={tab} onChange={setTab} /></div>

        {/* Journey tab */}
        {tab === "journey" && (
          <div style={{ animation: "slideUp 0.4s ease" }}>
            <div style={{ marginBottom: 14 }}>
              <div style={{ display: "flex", alignItems: "center", gap: 7, marginBottom: 3 }}>
                <span style={{ fontSize: 15 }}>{phase.icon}</span>
                <span style={{ fontSize: 13.5, fontWeight: 600, color: phase.color }}>Fase 1 Â· FundaÃ§Ã£o</span>
              </div>
              <div style={{ fontSize: 11.5, color: "rgba(255,255,255,0.3)", lineHeight: 1.5 }}>
                7 sessÃµes para reconectar com o teu corpo e nutriÃ§Ã£o emocional
              </div>
            </div>
            <div style={{ display: "flex", flexDirection: "column", gap: 7 }}>
              {sessions.map((s, i) => (
                <SessionCard key={i} session={s}
                  isLocked={i > sessionsCompleted + 1}
                  isCompleted={i < sessionsCompleted}
                  isCurrent={i === sessionsCompleted}
                  phaseColor={phase.color}
                  onClick={() => { if (i === sessionsCompleted) setShowRitual(true); }}
                />
              ))}
            </div>

            {/* Next phases */}
            <div style={{
              marginTop: 24, padding: 14, borderRadius: 14,
              background: "rgba(255,255,255,0.02)", border: "1px solid rgba(255,255,255,0.04)",
            }}>
              <div style={{ fontSize: 10, color: "rgba(255,255,255,0.25)", letterSpacing: "0.08em", textTransform: "uppercase", marginBottom: 10 }}>
                PrÃ³ximas fases
              </div>
              {PHASES.slice(1).map(p => (
                <div key={p.id} style={{ display: "flex", alignItems: "center", gap: 9, padding: "6px 0", opacity: 0.45 }}>
                  <div style={{
                    width: 26, height: 26, borderRadius: 7,
                    background: `${p.color}12`, display: "flex",
                    alignItems: "center", justifyContent: "center", fontSize: 13,
                  }}>{p.icon}</div>
                  <div style={{ flex: 1 }}>
                    <div style={{ fontSize: 12.5, fontWeight: 500, color: p.color }}>{p.name}</div>
                    <div style={{ fontSize: 10.5, color: "rgba(255,255,255,0.25)" }}>{p.phase} Â· 7 sessÃµes</div>
                  </div>
                  <div style={{
                    fontSize: 9.5, padding: "2px 7px", borderRadius: 5,
                    background: "rgba(255,255,255,0.04)", color: "rgba(255,255,255,0.2)",
                  }}>ğŸ”’ PRO</div>
                </div>
              ))}
            </div>
          </div>
        )}

        {/* Insights tab */}
        {tab === "insights" && (
          <div style={{ display: "flex", flexDirection: "column", gap: 9, animation: "slideUp 0.4s ease" }}>
            <div style={{ fontSize: 11.5, color: "rgba(255,255,255,0.3)", marginBottom: 2 }}>Frases-chave da tua jornada</div>
            {insights.map((ins, i) => <InsightCard key={i} insight={ins} color={phase.color} />)}
            <div style={{ padding: 14, textAlign: "center", fontSize: 11, color: "rgba(255,255,255,0.18)", fontStyle: "italic" }}>
              Insights sÃ£o capturados no ritual de saÃ­da de cada sessÃ£o
            </div>
          </div>
        )}

        {/* Patterns tab */}
        {tab === "patterns" && (
          <div style={{ animation: "slideUp 0.4s ease" }}>
            <div style={{ fontSize: 11.5, color: "rgba(255,255,255,0.3)", marginBottom: 10 }}>PadrÃµes recorrentes</div>
            <div style={{ display: "flex", flexWrap: "wrap", gap: 7, marginBottom: 16 }}>
              {patterns.map((p, i) => <PatternBadge key={i} pattern={p} />)}
            </div>
            <div style={{
              padding: 16, borderRadius: 14, background: "rgba(255,255,255,0.025)",
              border: "1px solid rgba(255,255,255,0.05)",
            }}>
              <div style={{ display: "flex", alignItems: "center", gap: 7, marginBottom: 9 }}>
                <span style={{ fontSize: 16 }}>ğŸŒ€</span>
                <span style={{ fontSize: 13.5, fontWeight: 600 }}>Comer emocional</span>
                <span style={{ fontSize: 10.5, color: phase.color, marginLeft: "auto" }}>4 menÃ§Ãµes</span>
              </div>
              <div style={{ fontSize: 12.5, color: "rgba(255,255,255,0.45)", lineHeight: 1.6 }}>
                Apareceu nas sessÃµes 1, 2, 3 e 4. Conectado a momentos de solidÃ£o e stress. SOMA estÃ¡ a ajudar-te a reconhecer o gatilho antes da acÃ§Ã£o.
              </div>
              <div style={{
                marginTop: 10, padding: "9px 12px", borderRadius: 9,
                background: `${phase.color}08`, fontSize: 11.5,
                color: "rgba(255,255,255,0.45)", fontStyle: "italic",
              }}>
                ğŸ’¡ Na Fase 2 (SEREN), vamos trabalhar a regulaÃ§Ã£o emocional por trÃ¡s deste padrÃ£o.
              </div>
            </div>
          </div>
        )}

        {/* Demo triggers */}
        <div style={{
          marginTop: 28, display: "flex", gap: 6, justifyContent: "center", flexWrap: "wrap",
        }}>
          {[
            { label: "â–¶ Ritual Entrada", fn: () => setShowRitual(true) },
            { label: "â–¶ Ritual SaÃ­da", fn: () => setShowEndRitual(true) },
            { label: "â–¶ Milestone", fn: () => setShowMilestone(true) },
          ].map((btn, i) => (
            <button key={i} onClick={btn.fn} style={{
              padding: "7px 14px", borderRadius: 7,
              background: "rgba(255,255,255,0.05)",
              border: "1px solid rgba(255,255,255,0.07)",
              color: "rgba(255,255,255,0.4)", fontSize: 10.5, cursor: "pointer",
            }}>{btn.label}</button>
          ))}
        </div>
      </>
    ) : (
      /* Concept Notes */
      <div style={{ padding: "22px 0", animation: "slideUp 0.4s ease" }}>
        <div style={{ fontSize: 20, fontFamily: "'Lora', serif", marginBottom: 6 }}>A Travessia ANIMA</div>
        <div style={{ fontSize: 12.5, color: "rgba(255,255,255,0.35)", lineHeight: 1.6, marginBottom: 24 }}>
          8 conceitos para transformar o ANIMA de "chat com IA" em experiÃªncia transformadora. Combina com as features avanÃ§adas que jÃ¡ tinhas planeado.
        </div>
        {conceptNotes.map(c => (
          <div key={c.num} style={{
            marginBottom: 16, padding: 16, borderRadius: 14,
            background: "rgba(255,255,255,0.02)", border: "1px solid rgba(255,255,255,0.04)",
          }}>
            <div style={{ display: "flex", alignItems: "center", gap: 8, marginBottom: 8 }}>
              <div style={{
                fontSize: 10, fontWeight: 700, color: c.color,
                letterSpacing: "0.08em", fontFamily: "'DM Sans', sans-serif",
              }}>{c.num}</div>
              <div style={{ fontSize: 14, fontWeight: 600, color: "rgba(255,255,255,0.85)" }}>{c.title}</div>
            </div>
            <div style={{ fontSize: 12.5, color: "rgba(255,255,255,0.4)", lineHeight: 1.7 }}>{c.desc}</div>
          </div>
        ))}

        <div style={{
          marginTop: 20, padding: 18, borderRadius: 14,
          background: `linear-gradient(135deg, ${phase.color}08, #8b5cf608)`,
          border: `1px solid ${phase.color}15`,
        }}>
          <div style={{ fontSize: 13.5, fontWeight: 600, color: "white", marginBottom: 6 }}>
            Como isto se integra com o que jÃ¡ tens:
          </div>
          <div style={{ fontSize: 12, color: "rgba(255,255,255,0.45)", lineHeight: 1.7 }}>
            As features avanÃ§adas (Insights Wall, CÃ­rculos, Ghosts, Jornadas, GamificaÃ§Ã£o, Emails, Referrals) continuam vÃ¡lidas. Estes 8 conceitos sÃ£o a <span style={{ color: phase.color }}>camada experiencial</span> que transforma funcionalidades em vivÃªncia. SÃ£o complementares, nÃ£o substitutos.
          </div>
        </div>
      </div>
    )}
  </div>
</div>
```

);
}